//import react into the bundle
import React, { useState, useEffect } from "react";
import ReactDOM from "react-dom";
import PropTypes from "prop-types";

//include images into your bundle
import List from "./list.jsx";

export default function InputText() {
	const [text, setText] = useState("");
	const [itemlist, setItemList] = useState("");
	const [itemsaved, setItemSaved] = useState(0);

	const [arraylist, setArrayList] = useState(["perro", "gato"]);
	let arraycopy;

	function saveInput(event) {
		setText(event.target.value);
	}

	function setInput(event) {
		setItemList(text);
		setItemSaved(1);
		arraycopy.push(itemlist);

		/*let arraycopy = JSON.parse(JSON.stringify(arraylist));
		arraycopy.push(itemlist);
		//setArrayList(arraycopy);
		console.log(arraycopy);*/

		//setArrayList(arraycopy);
		return (
			<ul className="list-group">
				<h2>To Do List</h2>
				{arraycopy.map(listitem => (
					<li key={listitem} className="list-group-item">
						{" "}
						{listitem}
					</li>
				))}
			</ul>
		);
	}

	function reset() {
		setItemSaved(0);
	}

	/*const List = () => {
		//setArraycopy(arraylist);
		//
		//

		let arraycopy = JSON.parse(JSON.stringify(arraylist));
		arraycopy.push(itemlist);
		console.log(arraycopy);

		//setArrayList(arraycopy);
		return (
			<ul className="list-group">
				<h2>To Do List</h2>
				{arraylist.map(listitem => (
					<li key={listitem} className="list-group-item">
						{" "}
						{listitem}
					</li>
				))}
			</ul>
		);
	};*/

	//setItemSaved(0);
	return (
		<div>
			<input
				type="text"
				onChange={saveInput}
				placeholder="Introduce new task"
			/>
			<button onClick={setInput}>Save</button>
		</div>
	);
}

/* <b>{itemsaved ? <List /> : ""}</b>*/


<ul className="list-group">
					{arraylist.map((listitem, index) => (
						<li key={listitem} className="list-group-item">
							{" Task "}
							{index}
							{" : "}
							{listitem}
						</li>
					))}
					<li key="itemsLeft" className="list-group-item itemsLeft">
						<span>4items Left</span>
					</li>
				</ul>